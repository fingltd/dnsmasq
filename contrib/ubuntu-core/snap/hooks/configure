#!/bin/bash

value=$(snapctl get dnsfwd-lifecycle-action)

case "$value" in
        enable)
            snapctl start --enable ${SNAP_NAME}.dnsfwd 2>&1 || true
            ;;
        disable)
            snapctl stop --disable ${SNAP_NAME}.dnsfwd 2>&1 || true
            ;;
        start)
            snapctl start ${SNAP_NAME}.dnsfwd 2>&1 || true
            ;;
        stop)
            snapctl stop ${SNAP_NAME}.dnsfwd 2>&1 || true
            ;;
        restart)
            snapctl start ${SNAP_NAME}.dnsfwd 2>&1 || true
            ;;
        condrestart)
            if test "x`pidof dnsfwd`" != x; then
                stop
                start
            fi
            ;; 
        *)
            echo "Usage: $0 {start|stop|restart|condrestart|enable|disable}"
            ;; 
esac
